<!-- A Rock Paper Scissors game played in the browser
Coded by Brad Gower -->

<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    function computerPlay() {
      switch(Math.floor(Math.random() * 3)) {
        case 0:
          return 'Rock';
        case 1:
          return 'Paper';
        case 2:
          return 'Scissors';
      }
    }

    function playRound(playerSelection, computerSelection) {
      playerSelection = playerSelection.charAt(0).toUpperCase() + 
                        playerSelection.slice(1).toLowerCase();
      switch(playerSelection) {
        case 'Rock':
          if (computerSelection=='Rock') {
            console.log('Tie! You both chose ' + computerSelection);
            return 0;
          } else if (computerSelection=='Paper') {
            console.log('You lose! ' + computerSelection + ' beats ' + playerSelection);
            return -1;
          } else { 
            console.log('You win! ' + playerSelection + ' beats ' + computerSelection);
            return 1;
          }
        case 'Paper':
          if (computerSelection=='Paper') {
            console.log('Tie! You both chose ' + computerSelection);
            return 0;
          } else if (computerSelection=='Scissors') {
            console.log('You lose! ' + computerSelection + ' beats ' + playerSelection);
            return -1;
          } else { 
            console.log('You win! ' + playerSelection + ' beats ' + computerSelection);
            return 1;
          }          
        case 'Scissors':
          if (computerSelection=='Scissors') {
            console.log('Tie! You both chose ' + computerSelection);
            return 0;
          } else if (computerSelection=='Rock') {
            console.log('You lose! ' + computerSelection + ' beats ' + playerSelection);
            return -1;
          } else { 
            console.log('You win! ' + playerSelection + ' beats ' + computerSelection);
            return 1;
          }        
      }
    }

    function getChoice() {
      let playerChoice = prompt("Rock, Paper, or Scissors?");
      return playerChoice;
    }

    function game() {
      let playerScore = 0;
      let computerScore = 0;
      let result = 0;
      while (playerScore < 5 && computerScore < 5) {
        result = playRound(getChoice(), computerPlay());
        switch(result) {
          case -1:
            computerScore = computerScore + 1;
          case 0:
            break;
          case 1:
            playerScore = playerScore + 1;
        }
        console.log(playerScore + " - " + computerScore);
      }
      if (playerScore > computerScore) {
        console.log("You won the game!")
      } else {
        console.log("You lose. You're a loser.")
      }
    }

    game();
  </script>
</body>
</html>